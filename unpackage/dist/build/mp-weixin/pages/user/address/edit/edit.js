(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/address/edit/edit"],{2779:function(e,t,n){"use strict";n.r(t);var i=n("ef82"),o=n("4173");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("48c6");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},"38db":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i,o,a,s){try{var r=e[a](s),c=r.value}catch(d){return void n(d)}r.done?t(c):Promise.resolve(c).then(i,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function r(e){a(s,i,o,r,c,"next",e)}function c(e){a(s,i,o,r,c,"throw",e)}r(void 0)})}}var r=function(){return Promise.all([n.e("common/vendor"),n.e("components/mpvue-citypicker/mpvueCityPicker")]).then(n.bind(null,"e1d5"))},c={components:{mpvueCityPicker:r},data:function(){return{editType:"",id:"",name:"",phone:"",detail:"",isDefault:0,cityPickerValue:[0,0,1],themeColor:"#007AFF",region:{label:"请点击选择地址",value:[],cityCode:""},adressDetail:{},addressId:"",regionAddress:""}},methods:{onCancel:function(e){console.log(e)},chooseCity:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){this.region=e;var t=e.label.split("-");this.regionAddress=t[0]+","+t[1]+","+t[2],console.log("选中地址时",this.regionAddress),this.cityPickerValue=e.value},isDefaultChange:function(t){var n=this;n.id?(console.log(222,n.id),n.$axios(n.$baseUrl.setDefaultAdress,{id:n.id}).then(function(t){1==t.data.code&&e.navigateBack()},function(e){console.log(e)})):(n.isDefault=1==t.detail.value?1:0,e.showToast({title:"设置成功",icon:"success"}))},del:function(){var t=this;e.showModal({title:"删除提示",content:"你将删除这个收货地址",success:function(n){n.confirm?t.$axios(t.$baseUrl.delAdress,{id:t.id}).then(function(t){1==t.data.code&&e.navigateBack()},function(e){console.log(e)}):n.cancel&&console.log("用户点击取消")}})},save:function(){var t=this;if(t.name){if(t.phone)return/^1[345678]\d{9}$/.test(t.phone)?void(t.detail?t.region?(e.showLoading({title:"正在提交"}),t.$axios(t.$baseUrl.addAdress,{name:t.name,phone:t.phone,detail:t.detail,isdefault:t.isDefault,region:t.regionAddress}).then(function(t){1==t.data.code&&(e.showToast({title:"保存成功！",icon:"success"}),e.hideLoading(),e.navigateBack(Object))},function(e){console.log(e)})):e.showToast({title:"请选择收件地址",icon:"none"}):e.showToast({title:"请输入收件人详细地址",icon:"none"})):(e.showToast({title:"请输入正确的电话号码",icon:"none"}),!1);e.showToast({title:"请输入收件人电话号码",icon:"none"})}else e.showToast({title:"请输入收件人姓名",icon:"none"})}},onLoad:function(){var e=s(i.default.mark(function e(t){var n,o;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=this,"edit"==t.type?n.save():(n.editType="edit",o=t.id,n.$axios(n.$baseUrl.getAdressDetail,{id:o}).then(function(e){var t=e.data.data;1==e.data.code&&(n.addressId=t.detail.address_id,n.name=t.detail.name,n.phone=t.detail.phone,n.detailed=t.detail.detail,n.region.label=t.detail.Area.province+t.detail.Area.city+t.detail.Area.region,n.id=t.detail.address_id)},function(e){console.log(e)}));case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};t.default=c}).call(this,n("543d")["default"])},4173:function(e,t,n){"use strict";n.r(t);var i=n("38db"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=o.a},"48c6":function(e,t,n){"use strict";var i=n("cca7"),o=n.n(i);o.a},cca7:function(e,t,n){},ef82:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})}},[["b4bc","common/runtime","common/vendor"]]]);