(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/collect/collect"],{"170d":function(o,t,n){"use strict";n.r(t);var e=n("d28e"),a=n("2cef");for(var i in a)"default"!==i&&function(o){n.d(t,o,function(){return a[o]})}(i);n("f563");var c=n("2877"),r=Object(c["a"])(a["default"],e["a"],e["b"],!1,null,null,null);t["default"]=r.exports},"2cef":function(o,t,n){"use strict";n.r(t);var e=n("f213"),a=n.n(e);for(var i in e)"default"!==i&&function(o){n.d(t,o,function(){return e[o]})}(i);t["default"]=a.a},"7cc3":function(o,t,n){},d28e:function(o,t,n){"use strict";var e=function(){var o=this,t=o.$createElement;o._self._c},a=[];n.d(t,"a",function(){return e}),n.d(t,"b",function(){return a})},f213:function(o,t,n){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(n("a34a"));function a(o){return o&&o.__esModule?o:{default:o}}function i(o,t,n,e,a,i,c){try{var r=o[i](c),l=r.value}catch(s){return void n(s)}r.done?t(l):Promise.resolve(l).then(e,a)}function c(o){return function(){var t=this,n=arguments;return new Promise(function(e,a){var c=o.apply(t,n);function r(o){i(c,e,a,r,l,"next",o)}function l(o){i(c,e,a,r,l,"throw",o)}r(void 0)})}}var r=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"bba5"))},l={components:{uniLoadMore:r},data:function(){return{collectList:[],loaded:!1,loadingType:"loading",page:1,isFristShow:!0,goods_id:"-1"}},onLoad:function(){this.loadData(),this.isFristShow=!1},onShow:function(){if(!this.isFristShow){var t=this;o.getStorage({key:"needRemoveGoodsId",success:function(n){if(t.goods_id=n.data,console.log("当前界面的商品ID"+t.goods_id),"-1"!=t.goods_id)for(var e in console.log("重新回到了界面============================"),t.collectList)if(t.collectList[e].goods_id==t.goods_id){t.collectList.splice(e,1),t.goods_id="-1",o.setStorage({key:"needRemoveGoodsId",data:"-1"});break}}})}},onPullDownRefresh:function(){var t=this;setTimeout(function(){t.page=1,t.loadData(),o.stopPullDownRefresh()},800)},methods:{loadData:function(){var o=c(e.default.mark(function o(){var t;return e.default.wrap(function(o){while(1)switch(o.prev=o.next){case 0:t=this,t.$axios(t.$baseUrl.getcollectionList,{page:t.page}).then(function(o){if(console.log(o),1==o.data.code){var n=o.data.data.data;for(var e in 1==t.page&&(t.collectList=[]),n)console.log(n[e]),t.collectList.push(n[e]);t.loaded=!0,n.length<10?t.$data.loadingType="nomore":t.$data.loadingType="loading"}else t.$api.msg(o.data.msg)},function(o){console.log(o)});case 2:case"end":return o.stop()}},o,this)}));function t(){return o.apply(this,arguments)}return t}(),loadMore:function(){if("nomore"!==this.loadingType){var o=this;setTimeout(function(){o.page+=1,o.loadData()},800)}},navToDetailPage:function(t){console.log(t.goods_id);var n=t.goods_id;o.navigateTo({url:"/pages/product/product?id=".concat(n)})}}};t.default=l}).call(this,n("543d")["default"])},f563:function(o,t,n){"use strict";var e=n("7cc3"),a=n.n(e);a.a}},[["ec93","common/runtime","common/vendor"]]]);