<view class="container" bind:__l="__l"><block wx:if="{{!hasLogin||empty===true}}"><view class="empty"><image src="/static/emptyCart.jpg" mode="aspectFit"></image><block wx:if="{{hasLogin}}"><view class="empty-tips">空空如也<block wx:if="{{hasLogin}}"><navigator class="navigator" url="../index/index" open-type="switchTab">随便逛逛></navigator></block></view></block><block wx:else><view class="empty-tips">空空如也<block wx:if="{{hasLogin}}"><navigator class="navigator" url="../index/index" open-type="switchTab">随便逛逛></navigator></block></view></block></view></block><block wx:else><view><view class="cart-list"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="goods_id"><view id="{{item.goods_id}}" data-event-opts="{{[['tap',[['commodityDetails',['$0'],[[['cartList','goods_id',item.goods_id,'goods_id']]]]]]]}}" bindtap="__e"><view class="{{['cart-item',(index!==cartList.length-1)?'b-b':'']}}"><image class="image-wrapper" src="{{item.image}}" mode="aspectFill"></image><view class="item-right"><text class="clamp title">{{item.goods_name}}</text><text class="attr">{{item.goods_sku.goods_attr+" 库存："+item.goods_sku.stock_num}}</text><text class="price">{{"¥"+item.goods_price}}</text><uni-number-box class="step" min="{{1}}" max="{{item.goods_sku.stock_num}}" value="{{item.total_num>item.goods_sku.stock_num?item.goods_sku.stock_num:item.total_num}}" isMax="{{item.total_num>=item.goods_sku.stock_num?true:false}}" isMin="{{item.total_num===1}}" index="{{index}}" goodId="{{item.goods_id}}" goodsSkuId="{{item.goods_sku_id}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e"></uni-number-box></view><text data-event-opts="{{[['tap',[['deleteCartItem',['$0'],[[['cartList','goods_id',item.goods_id]]]]]]]}}" class="del-btn yticon icon-fork" catchtap="__e"></text></view></view></block></view><view class="action-section"><view class="checkbox"><view data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="{{['clear-btn',(allChecked)?'show':'']}}" bindtap="__e">清空</view></view><view class="total-box"><text class="price">{{"¥"+orderTotalPrice}}</text><text class="coupon">运费<text>{{expressPrice}}</text>元</text></view><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" bindtap="__e">去结算</button></view></view></block></view>